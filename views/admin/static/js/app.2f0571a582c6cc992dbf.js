webpackJsonp([11],{"+BTi":function(n,t){},"+Rdb":function(n,t){},"+g8z":function(n,t){},"/I4U":function(n,t){},"/bpg":function(n,t){},"/i/W":function(n,t){},"2rGO":function(n,t){},Dte2:function(n,t){},Dzb6:function(n,t){},EvS7:function(n,t){},GXEp:function(n,t){},I4nB:function(n,t){},IcnI:function(n,t,e){"use strict";var r,a=e("/5sW"),u=e("NYxO"),o=e("Xxa5"),c=e.n(o),i=e("exGp"),s=e.n(i),d=e("bOdI"),f=e.n(d),l=e("P9l9"),p=e("TIfe"),m={state:{token:Object(p.b)(),name:"",avatar:"",roles:[]},mutations:(r={},f()(r,"SET_TOKEN",function(n,t){n.token=t}),f()(r,"SET_NAME",function(n,t){n.name=t}),f()(r,"SET_AVATAR",function(n,t){n.avatar=t}),f()(r,"SET_ROLES",function(n,t){n.roles=t}),r),actions:{Login:function(n,t){var e=this,r=n.commit;return s()(c.a.mark(function n(){var a,u,o;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.username.trim(),u=t.password,n.next=4,l.a.login(a,u);case 4:return 0===(o=n.sent).code&&(Object(p.d)(o.data.token),r("SET_TOKEN",o.data.token)),n.abrupt("return",o);case 7:case"end":return n.stop()}},n,e)}))()},LogOut:function(n){var t=this,e=n.commit;n.state;return s()(c.a.mark(function n(){return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e("SET_TOKEN",""),Object(p.c)();case 2:case"end":return n.stop()}},n,t)}))()},GetInfo:function(n){var t=this,e=n.commit,r=n.state;return s()(c.a.mark(function n(){var a;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.getInfo(r.token);case 2:return 0===(a=n.sent).code&&(e("SET_NAME",a.data.name),e("SET_AVATAR",a.data.avatar),e("SET_ROLES",a.data.roles)),n.abrupt("return",a);case 5:case"end":return n.stop()}},n,t)}))()}}},h=e("YaEn");var v={state:{routers:h.b,addRouters:[]},mutations:f()({},"SET_ROUTES",function(n,t){n.addRouters=t,n.routers=h.b.concat(t)}),actions:{GenerateRoutes:function(n,t){var e;return(0,n.commit)("SET_ROUTES",e=function n(t,e){return t.filter(function(t){return!!function(n,t){return!n.meta||!n.meta.roles||t.some(function(t){return n.meta.roles.indexOf(t)>=0})}(t,e)&&(t.children&&t.children.length&&(t.children=n(t.children,e)),!0)})}(h.a,t)),e}}},g={token:function(n){return n.user.token},name:function(n){return n.user.name},avatar:function(n){return n.user.avatar},roles:function(n){return n.user.roles},addRoutes:function(n){return n.permission.addRouters},routers:function(n){return n.permission.routers}};e("sax8");a.default.use(u.a);var b=new u.a.Store({modules:{user:m,permission:v},getters:g,strict:!1,plugins:[]});t.a=b},LL4n:function(n,t){},M9yL:function(n,t){},Mf0D:function(n,t){},NHnr:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});e("oq7i"),e("+BTi");var r=e("+TD8"),a=e.n(r),u=(e("/I4U"),e("yg6k")),o=e.n(u),c=(e("cwe7"),e("2X9z")),i=e.n(c),s=(e("2rGO"),e("nu7/")),d=e.n(s),f=(e("d7TW"),e("ajQY")),l=e.n(f),p=(e("jZDA"),e("91Nw")),m=e.n(p),h=(e("bwiK"),e("SExR")),v=e.n(h),g=(e("Mf0D"),e("exT9")),b=e.n(g),w=(e("/bpg"),e("ACGT")),x=e.n(w),y=(e("/i/W"),e("V1RD")),E=e.n(y),k=(e("M9yL"),e("OSLW")),T=e.n(k),I=(e("Dzb6"),e("o6kb")),A=e.n(I),S=(e("U/ZW"),e("+nRk")),D=e.n(S),O=(e("LL4n"),e("BrEC")),R=e.n(O),L=(e("EvS7"),e("fEB+")),_=e.n(L),q=(e("qunJ"),e("vqwl")),N=e.n(q),W=(e("+Rdb"),e("Mezo")),B=e.n(W),G=(e("X+ky"),e("HJMx")),M=e.n(G),U=(e("cDSy"),e("e0Bm")),C=e.n(U),j=(e("I4nB"),e("STLj")),z=e.n(j),Y=(e("GXEp"),e("mtrD")),J=e.n(Y),K=(e("isE6"),e("LR6y")),X=e.n(K),V=(e("Dte2"),e("q4le")),P=e.n(V),Z=(e("ylrw"),e("6oiW")),$=e.n(Z),H=(e("Yq4J"),e("qubY")),F=e.n(H),Q=e("/5sW"),nn={render:function(){var n=this.$createElement,t=this._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},tn=e("VU/8")({name:"App"},nn,!1,null,null,null).exports,en=e("YaEn"),rn=e("IcnI"),an=e("Dd8w"),un=e.n(an),on=e("Y81h"),cn=e.n(on),sn=(e("UVIz"),e("TIfe")),dn=["/admin/login"];en.c.beforeEach(function(n,t,e){cn.a.start(),Object(sn.b)()?"/admin/login"===n.path?(e({path:"/admin"}),cn.a.done()):0===rn.a.getters.roles.length?rn.a.dispatch("GetInfo").then(function(t){var r=t.data.roles;rn.a.dispatch("GenerateRoutes",r).then(function(t){en.c.addRoutes(rn.a.getters.addRoutes),e(un()({},n,{replace:!0})),cn.a.done()})}):e():-1!==dn.indexOf(n.path)?(e(),cn.a.done()):(e("/admin/login"),cn.a.done())}),en.c.afterEach(function(){cn.a.done()});e("+g8z");var fn=e("V8mf"),ln=e.n(fn),pn=(e("TJvI"),{install:function(n){n.directive("highlight",{update:function(n){n.querySelectorAll("pre code").forEach(function(n){ln.a.highlightBlock(n)})}})}}),mn=pn;Q.default.use(l.a).use(m.a).use(v.a).use(b.a).use(x.a).use(E.a).use(T.a).use(A.a).use(D.a).use(R.a).use(_.a).use(N.a).use(B.a).use(M.a).use(C.a).use(z.a).use(J.a).use(X.a).use(P.a).use($.a).use(F.a).use(d.a.directive),Q.default.use(mn),Q.default.prototype.$message=i.a,Q.default.prototype.$notify=o.a,Q.default.prototype.$MessageBox=a.a,Q.default.config.productionTip=!1,new Q.default({el:"#app",router:en.c,store:rn.a,render:function(n){return n(tn)}})},P9l9:function(n,t,e){"use strict";var r=e("Dd8w"),a=e.n(r),u=e("Xxa5"),o=e.n(u),c=e("exGp"),i=e.n(c),s=e("mtWM"),d=e.n(s),f=e("mw3O"),l=e.n(f),p=d.a.create({baseURL:"http://lolosong.com/admin",headers:{"Content-Type":"application/x-www-form-urlencoded"}});p.interceptors.request.use(function(n){return"post"===n.method&&(n.data=l.a.stringify(a()({},n.data))),n});var m=p,h={getArticleList:function(n){var t=this,e=n.page,r=n.limit;return i()(o.a.mark(function n(){var a;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m({url:"/article/getArticleList",method:"get",params:{page:e,limit:r}});case 2:return a=n.sent,n.abrupt("return",a.data);case 4:case"end":return n.stop()}},n,t)}))()},getOneArticle:function(n){var t=this;return i()(o.a.mark(function e(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({url:"/article/getOneArticle",method:"get",params:{articleID:n}});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},e,t)}))()},createArticle:function(n){var t=this;return i()(o.a.mark(function e(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({url:"/article/createArticle",method:"post",data:n});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},e,t)}))()},deleteArticle:function(n){var t=this;return i()(o.a.mark(function e(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({url:"/article/deleteArticle",method:"post",data:{articleID:n}});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},e,t)}))()},editArticle:function(n){var t=this;return i()(o.a.mark(function e(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({url:"/article/editArticle",method:"post",data:n});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},e,t)}))()}},v={getcategory:function(){var n=this;return i()(o.a.mark(function t(){var e;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m({url:"/category/getCategory",method:"get"});case 2:return e=n.sent,n.abrupt("return",e.data);case 4:case"end":return n.stop()}},t,n)}))()},addCategory:function(n){var t=this;return i()(o.a.mark(function e(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({url:"/category/addCategory",method:"post",data:{category:n}});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},e,t)}))()},deleteCategory:function(n){var t=this;return i()(o.a.mark(function e(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({url:"/category/deleteCategory",method:"post",data:{categoryID:n}});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},e,t)}))()},editCategory:function(n,t){var e=this;return i()(o.a.mark(function r(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({url:"/category/editCategory",method:"post",data:{categoryID:n,category:t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},r,e)}))()}},g={login:function(n,t){var e=this;return i()(o.a.mark(function r(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m({url:"/user/login",method:"post",data:{username:n,password:t}});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}},r,e)}))()},getInfo:function(n){var t=this;return i()(o.a.mark(function e(){var r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({url:"/user/getInfo",method:"get",params:{token:n}});case 2:return r=t.sent,t.abrupt("return",r.data);case 4:case"end":return t.stop()}},e,t)}))()}};t.a=a()({},g,h,v)},TIfe:function(n,t,e){"use strict";e.d(t,"b",function(){return a}),e.d(t,"d",function(){return u}),e.d(t,"c",function(){return o}),e.d(t,"a",function(){return c});var r=e("IcnI"),a=function(){return localStorage.getItem("token")},u=function(n){localStorage.setItem("token",n)},o=function(){localStorage.removeItem("token")},c=function(n){var t=r.a.getters&&r.a.getters.roles;if(n&&n instanceof Array&&n.length>0){var e=n;return!!t.some(function(n){return e.includes(n)})}throw new Error("need roles! Like v-permission=\"['admin','editor']\"")}},TJvI:function(n,t){},"U/ZW":function(n,t){},UVIz:function(n,t){},"X+ky":function(n,t){},YaEn:function(n,t,e){"use strict";e.d(t,"b",function(){return o}),e.d(t,"a",function(){return c});var r=e("/5sW"),a=e("/ocq"),u=function(){return e.e(0).then(e.bind(null,"FNcP"))};r.default.use(a.a);var o=[{path:"/admin/login",name:"login",component:function(){return e.e(6).then(e.bind(null,"6Qob"))},hidden:!0},{path:"/admin",redirect:"/admin/dashboard",component:u,hidden:!0,children:[{path:"dashboard",name:"Dashboard",component:function(){return e.e(5).then(e.bind(null,"ID/7"))}}]},{path:"/admin/article",component:u,children:[{path:"index",name:"文章管理",component:function(){return e.e(3).then(e.bind(null,"uwXK"))}}]},{path:"/admin/category",component:u,children:[{path:"index",name:"分类管理",component:function(){return e.e(4).then(e.bind(null,"bBfL"))}}]},{path:"/admin/example",redirect:"/admin/example/table",name:"例子",component:u,children:[{path:"table",name:"表格",component:function(){return e.e(8).then(e.bind(null,"8z0v"))}},{path:"tree",name:"树结构",component:function(){return e.e(7).then(e.bind(null,"kK/p"))}}]}],c=[{path:"/admin/permission",redirect:"/admin/permission/index",component:u,name:"权限测试",meta:{roles:["admin"]},children:[{path:"index",component:function(){return e.e(9).then(e.bind(null,"PLNU"))},name:"权限测试页",meta:{roles:["admin"]}}]},{path:"/admin/article",component:u,meta:{roles:["admin"]},hidden:!0,children:[{path:"createArticle",name:"创建文章",component:function(){return e.e(2).then(e.bind(null,"KyDB"))}},{path:"editArticle/:articleID",name:"编辑文章",component:function(){return e.e(1).then(e.bind(null,"AxNr"))}}]}];t.c=new a.a({mode:"history",routes:o})},Yq4J:function(n,t){},bwiK:function(n,t){},cDSy:function(n,t){},cwe7:function(n,t){},d7TW:function(n,t){},isE6:function(n,t){},jZDA:function(n,t){},oq7i:function(n,t){},qunJ:function(n,t){},ylrw:function(n,t){}},["NHnr"]);
//# sourceMappingURL=app.2f0571a582c6cc992dbf.js.map