webpackJsonp([1],{"0e04":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),r=a("exGp"),c=a.n(r),s=a("P9l9"),o=a("u4HJ"),l=a("zlCH"),u={components:{Excerpt:o.a,Category:l.a},data:function(){return{loading:!0,ArticleList:[],pageTotal:0,page:1,limit:10}},mounted:function(){this.getArticleList()},methods:{getArticleList:function(){var t=this;return c()(n.a.mark(function e(){var a;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.gethotArticleList({page:t.page,limit:t.limit});case 3:a=e.sent,t.pageTotal=a.data.articleCount,t.ArticleList=a.data.list,t.loading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("文章列表获取失败:"+e.t0);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},go:function(t){this.$router.push({path:"/articleList",query:{category:t}})},changePage:function(t){this.page=t,this.getArticleList()}},watch:{$route:function(){this.getArticleList()}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hotArticle"},[a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"articleList"},t._l(t.ArticleList,function(t){return a("excerpt",{key:t._id,attrs:{articleData:t}})})),t._v(" "),t.ArticleList.length>0?a("el-pagination",{staticClass:"pagination",attrs:{layout:"prev,pager,next",total:t.pageTotal,background:"","current-page":t.page},on:{"current-change":t.changePage,"update:currentPage":function(e){t.page=e}}}):t._e()],1),t._v(" "),a("div",{staticClass:"sidebar"},[a("category",{on:{clickCategory:t.go}})],1)])])},staticRenderFns:[]};var p=a("VU/8")(u,d,!1,function(t){a("OTEw")},"data-v-6336724b",null);e.default=p.exports},OTEw:function(t,e){},QRFY:function(t,e){},u4HJ:function(t,e,a){"use strict";var i=a("Xxa5"),n=a.n(i),r=a("exGp"),c=a.n(r),s=a("P9l9"),o=a("Oif5"),l={props:{articleData:{type:Object,default:function(){return{}}}},methods:{goArticleContent:function(){var t=this;return c()(n.a.mark(function e(){return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.addViews(t.articleData._id);case 3:0===e.sent.code&&t.$router.push({path:"/article/"+t.articleData._id}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("记录阅读量失败:"+e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()}},filters:{formatTime:o.a}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"excerpt"},[a("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.goArticleContent()}}},[a("h3",[t._v(t._s(t.articleData.title))])]),t._v(" "),a("div",{staticClass:"meta"},[t.articleData.created?a("time",[a("i",{staticClass:"iconfont icon-time"}),t._v(t._s(t._f("formatTime")(t.articleData.created)))]):t._e(),t._v(" "),a("span",[a("i",{staticClass:"iconfont icon-eye"}),t._v("阅读量("+t._s(t.articleData.views)+")")]),t._v(" "),a("span",[a("i",{staticClass:"iconfont icon-fenlei"}),t._v(t._s(t.articleData.category))])]),t._v(" "),a("div",{staticClass:"describe"},[t._v(t._s(t.articleData.describe))])])},staticRenderFns:[]};var d=a("VU/8")(l,u,!1,function(t){a("QRFY")},"data-v-7ac48388",null);e.a=d.exports}});