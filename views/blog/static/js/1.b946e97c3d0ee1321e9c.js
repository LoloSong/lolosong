webpackJsonp([1],{"/5L7":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),r=a.n(i),n=a("exGp"),c=a.n(n),s=a("P9l9"),o=a("u4HJ"),l=a("zlCH"),u={data:function(){return{loading:!0,friendData:[]}},mounted:function(){this.getFriendData()},methods:{getFriendData:function(){var t=this;return c()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.getFriend();case 2:a=e.sent,console.log(a),t.friendData=a.data,t.loading=!1;case 6:case"end":return e.stop()}},e,t)}))()},goLink:function(t){this.$emit("clickFriend",t)}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"friend"},[a("h3",[t._v("友情链接")]),t._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"items"},t._l(t.friendData,function(e){return a("span",{key:e._id,on:{click:function(a){t.goLink(e.friendUrl)}}},[t._v(t._s(e.friendName))])}))])},staticRenderFns:[]};var g=a("VU/8")(u,d,!1,function(t){a("rXgA")},"data-v-97d918d6",null).exports,f={components:{Excerpt:o.a,Category:l.a,FriendLink:g},data:function(){return{loading:!0,ArticleList:[],pageTotal:0,page:1,limit:10}},mounted:function(){this.$route.query.category?this.getArticleListByCategory(this.$route.query.category):this.getArticleList()},metaInfo:function(){return{title:"Lolo-web前端技术文章分享"}},methods:{getArticleList:function(){var t=this;return c()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.getArticleList({page:t.page,limit:t.limit});case 3:a=e.sent,t.pageTotal=a.data.articleCount,t.ArticleList=a.data.list,t.loading=!1,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("文章列表获取失败:"+e.t0);case 12:case"end":return e.stop()}},e,t,[[0,9]])}))()},getArticleListByCategory:function(t){var e=this;return c()(r.a.mark(function a(){var i;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.a.getArticleListByCategory({category:t,page:e.page,limit:e.limit});case 3:i=a.sent,console.log(i),e.pageTotal=i.data.articleCount,e.ArticleList=i.data.list,e.loading=!1,a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error("文章列表获取失败:"+a.t0);case 13:case"end":return a.stop()}},a,e,[[0,10]])}))()},go:function(t){this.$router.push({path:"/articleList",query:{category:t}})},goFriend:function(t){window.open(t)},changePage:function(t){this.page=t,this.$route.query.category?this.getArticleListByCategory(this.$route.query.category):this.getArticleList()}},watch:{$route:function(){this.$route.query.category?this.getArticleListByCategory(this.$route.query.category):this.getArticleList()}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"articleList"},t._l(t.ArticleList,function(t){return a("excerpt",{key:t._id,attrs:{articleData:t}})})),t._v(" "),t.ArticleList.length>0?a("el-pagination",{staticClass:"pagination",attrs:{layout:"prev,pager,next",total:t.pageTotal,background:"","current-page":t.page},on:{"current-change":t.changePage,"update:currentPage":function(e){t.page=e}}}):t._e()],1),t._v(" "),a("div",{staticClass:"sidebar"},[a("category",{on:{clickCategory:t.go}}),t._v(" "),a("friend-link",{on:{clickFriend:t.goFriend}})],1)])])},staticRenderFns:[]};var p=a("VU/8")(f,v,!1,function(t){a("vQdo")},"data-v-e3ee108c",null);e.default=p.exports},QRFY:function(t,e){},rXgA:function(t,e){},u4HJ:function(t,e,a){"use strict";var i=a("Xxa5"),r=a.n(i),n=a("exGp"),c=a.n(n),s=a("P9l9"),o=a("Oif5"),l={props:{articleData:{type:Object,default:function(){return{}}}},methods:{goArticleContent:function(){var t=this;return c()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.a.addViews(t.articleData._id);case 3:0===e.sent.code&&t.$router.push({path:"/article/"+t.articleData._id}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("记录阅读量失败:"+e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()}},filters:{formatTime:o.a}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"excerpt"},[a("div",{staticStyle:{cursor:"pointer"},on:{click:function(e){t.goArticleContent()}}},[a("h3",[t._v(t._s(t.articleData.title))])]),t._v(" "),a("div",{staticClass:"meta"},[t.articleData.created?a("time",[a("i",{staticClass:"iconfont icon-time"}),t._v(t._s(t._f("formatTime")(t.articleData.created)))]):t._e(),t._v(" "),a("span",[a("i",{staticClass:"iconfont icon-eye"}),t._v("阅读量("+t._s(t.articleData.views)+")")]),t._v(" "),a("span",[a("i",{staticClass:"iconfont icon-fenlei"}),t._v(t._s(t.articleData.category))])]),t._v(" "),a("div",{staticClass:"describe"},[t._v(t._s(t.articleData.describe))])])},staticRenderFns:[]};var d=a("VU/8")(l,u,!1,function(t){a("QRFY")},"data-v-7ac48388",null);e.a=d.exports},vQdo:function(t,e){}});